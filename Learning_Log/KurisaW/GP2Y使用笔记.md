## 介绍

GP2Y10是日本夏普公司开发的一款光学灰尘浓度检测传感器，设计用来感应空气中的尘埃粒子，其内部对角安放着红外线发光二极管和光电晶体管，使得其能够探测到空气中尘埃反射光，即使非常细小的如烟草烟雾颗粒也能够被检测到，通常在空气净化系统中应用。该传感器具有非常低的电流消耗（最大20mA，典型值11mA），可使用高达7VDC。该传感器输出为模拟电压，其值与粉尘浓度成正比。可测量0.8微米以上的微小粒子，灵敏度为0.5V/(0.1mg/m3)，体积小，重量轻，便于安装，广泛应用于空气清新机，换气空调，换气扇等产品。

## 工作原理

模块内部采集腔中对角安放着红外线发光二极管和光电晶体管，使得其能够探测到空气中尘埃反射光，尘埃浓度越高，反射光越多，从而输出模拟电压值越高，通过ADC将模拟值转化为数字电压值，利用比例关系式，最终得到尘埃浓度。

## 接线

| PIN  | MCU  | Func            |
| ---- | ---- | --------------- |
| PUL  | PB13 | 数字引脚        |
| AO   | PA1  | ADC1 通道1 引脚 |

## 计算公式

> mg/m3 = 0.17 * V – 0.1

## 空气污染指数分级标准表

| PM2.5 浓度均值(μg/m3) | 空气质量 AQI | 空气质量级别 | 空气质量指数类别 |
| --------------------- | ------------ | ------------ | ---------------- |
| 0-35                  | 0-50         | 一级         | 优               |
| 35-75                 | 51-100       | 二级         | 良               |
| 75-115                | 101-150      | 三级         | 轻度污染         |
| 115-150               | 151-200      | 四级         | 中度污染         |
| 150-250               | 201-300      | 五级         | 重度污染         |
| 250以上               | ≥300         | 六级         | 严重污染         |

## 时序解析

根据传感器数据手册介绍，传感器的采集周期为10ms，LED灯亮时间为0.32ms，传感器采集时间为0.28ms。

