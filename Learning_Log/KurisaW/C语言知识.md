## 1.__weak和extern

在C语言中，`__weak`和`extern`是两个具有不同目的和用法的关键字。

1. `__weak`关键字：
   - `__weak`是GCC编译器的扩展之一，用于声明弱符号（Weak Symbol）。
   - 弱符号是指在链接阶段，如果有多个相同名称的弱符号存在，则选择其中一个（通常是最强的一个）作为符号的定义。
   - 声明为弱符号的函数或变量可以在程序的其他地方被覆盖或重新定义。
   - `__weak`关键字通常用于实现在不同编译单元中具有可选实现的函数或变量。
   - 在函数或变量声明之前加上`__weak`关键字，可以确保在链接时选择正确的定义。
2. `extern`关键字：
   - `extern`关键字用于声明外部变量或函数。
   - 外部变量或函数是在其他文件中定义的，并且可以在当前文件中使用。
   - `extern`关键字用于告诉编译器该变量或函数的定义在其他文件中，以便在当前文件中使用它们。
   - `extern`关键字通常与变量或函数的声明一起使用，但不进行定义。

综上所述，`__weak`关键字用于声明弱符号，允许在链接时选择最适合的定义，而`extern`关键字用于声明在其他文件中定义的变量或函数，以便在当前文件中使用。它们的主要区别在于用途和语义。