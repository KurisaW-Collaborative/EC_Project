# 软件框架设计（线程、任务设计）

---

## 1.定位任务设计

* 数据接收线程(recgps_thread)：从串口读取GPS模块发送来的原始GPS指令，并创建一个信号量(origps_sem)，并始终在线程的入口函数中始终持有该信号量。

* 数据解析线程(alygps_thread)：通过nmealib库函数解析为具体的定位信息，将其打包成一个解析数据集（数组），此时释放一个信号量(origps_sem)，表示此次数据解析完成；同时再次创建一个信号量(pldgps_sem)，并在线程的入口函数中始终持有该信号量。
* 数据上报线程(upldgps_thread)：接收来自alygps_thread线程每次读取的GPS解析数据集，此时释放一个信号量(pldgps_sem)，同时将解析数据集发送给云端，并在云端进行数据的解析。

* 阿里云端进行空间数据可视化，添加一个地理位置的定义（可导出运动轨迹）。

## 2.决策系统设计

